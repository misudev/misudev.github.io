---
published: true
layout: post
title: "[JPA] JPA 시작하기"
category: JPA
tags: [JPA]
comments: true
---

## JPA?

JPA(Java Persistence API)는 자바 표준 ORM(Object-Relational Mapping)사양이다.  JPA는 표준 사양이며 Java에서 제공하는 API이고 이를 구현한 것이 Hibernate , TopLink 등이다.

즉 , JPA는 ORM을 사용하기 위한 표준 인터페이스를 모아둔 것이다.

- 영속성(Persistence)이란?

  ​	Application이나 Object가 수명을 다 했을 때도, Object의 데이터가 저장되는 것을 의미한다. (DBMS, File 등으로..)

- ORM (Obejct-Relational Mapping)

  ​	관계형 데이터와 객체 데이터를 서로 매핑 시키는 것이다.

- JPQL ( Java Persistence Query Language)

  ​	관계형 데이터베이스에 저장된 엔티티에 대한 쿼리들을 작성한다. 쿼리들은 구문에서 SQL쿼리와 유사하지만, 

  ​	데이터베이스 테이블에 직접적으로 처리하지 않고 엔티티 개체에 대하여 처리된다.

  

**장점**

- 객체지향적으로 데이터를 관리할 수 있기 때문에 비즈니스 로직에 집중 할 수 있으며, 객체지향 개발이 가능하다.
- 테이블 생성, 변경, 관리가 쉽다. (JPA를 잘 이해하고 있는 경우)
- 로직을 쿼리에 집중하기 보다는 객체자체에 집중 할 수 있다.
- 빠른 개발이 가능하다.

**단점**

- 어렵다. 장점을 더 극대화 하기 위해서 알아야 할게 많다.
- 잘 이해하고 사용하지 않으면 데이터 손실이 있을 수 있다. (persistence context)
- 성능상 문제가 있을 수 있다.(이 문제 또한 잘 이해해야 해결이 가능하다.)

-----------



<center><img src = '/assets/image/data-access-layer.JPG' width = '200' height = '300' /></center>

​	



<center><img src = '/assets/image/dataaccess_jpa.png' width = '700' height = '330' /></center>

​	Hibernate도 내부적으로 JDBC를 사용한다.

-------------

### persist context ( 영속성 컨텍스트 )

엔티티를 영구 저장하는 환경이라는 뜻

엔티티 매니저로 엔티티를 저장하거나 조회하면 엔티티 매니저는 영속성 컨텍스트에 엔티티를 보관하고 관리한다.

####엔티티의 생명주기 

* 비영속 (new/transient) : 영속성 컨텍스트와 전혀 관계가 없는 순수한 객체인 상태 
* 영속 (managed) : 영속성 컨텍스트에 저장된 상태, 영속성 컨텍스트에 의해 관리되는 상태 
* 준영속 (detached) : 영속성 컨텍스트에 저장되었다가 분리된 상태 (거의 사용하지 않음..)
* 삭제 (removed) : 삭제된 상태 





----------

출처 -

 https://blog.woniper.net/255

https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#architecture-overview

https://coding-start.tistory.com/70

